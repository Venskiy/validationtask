# Валидация данных
### Лабораторная работа #1
[[презентация]]() [[репозиторий]](https://github.com/Andrew414/validationtask) [[english]](https://github.com/Andrew414/validationtask/blob/master/README.md)

### Условие
Необходимо написать программу или скрипт, которые способы включить/выключить один из сетевых адаптеров в системе. У программы должен быть интерфейс командной строки, настройка должна проводиться через входные параметры:

Путь к исполняемому файлу|UID адаптера|Ключ
-------------------------|------------|----
`C:\firsttask.exe`|`{6F9619FF-8B86-D011-B42D-00CF4FC964FF} `|`-d`

Программа должна проверять входные параметры и должна корректно завершаться, если эти параметры ошибочны. Если аргументы в порядке, программа должна включать адаптер, UID которого был передан, если параметр 'ключ' равен `-e`, либо выключать его, если параметр равен `-d`.

###### Входные параметры
Параметр|Возможные значения
--------|------------------
UID адаптера|GUID/UUID адаптера с фигурными скобками в начале и в конце
Ключ|`-d` либо `-e`

###### Выходные данные
В случае успеха программа должна выводить на экран строчку `success`. В случае ошибки - строчку `err: <описание ошибки>`

###### Пример входных и выходных данных
Входные данные|Результат программы
--------------|-------------------
`app.exe {6F9619FF-8B86-D011-B42D-00CF4FC964FF} -e`|Адаптер включен, на экран напечатано `success`
`app.exe {6F9619FF-8B86-D011-B42D-00CF4FC964FF} -d`|Состояние сети не изменилось, на экран напечатано `err: admin rights required`
`app.exe 6F9619FF-8B86-D011-B42D-00CF4FC964FF -d`|Состояние сети не изменилось, на экран напечатано `err: wrong guid format`
`app.exe {6F9619FF-8B86-D011-B42D-00CF4FC964FF} -enable`|Состояние сети не изменилось, на экран напечатано `err: wrong command`

###### UID адаптера
128-битный уникальный идентификатор объекта в ОС. 

В ОС Windows обычно называется GUID и записывается в виде `{XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX}`, где `X` - шестнадцатиричная цифра. Возможны и другие способы записи GUID - шестнадцатиричные цифры могут быть строчными и прописными, кроме того, могут отсутствовать фигурные скобки. 

В Unix-подобных ОС как правило называется UUID и записывается в виде `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`.

Каждый сетевой интерфейс имеет свой UID, который не меняется без веских причин (например, при переустановке драйверов).

###### GUID сетевых адаптеров в Windows
GUID можно вычислить несколькими способами:
* Используя реестр
  * `HKEY_LOCAL_MACHINE` > `SOFTWARE` > `Microsoft` > `WindowsNT` > `CurrentVersion` > `NetworkCards`
  * Этот ключ хранит подключи, каждый из которых описывает одну сетевую карту.
  * Внутри подключа можно найти значение `ServiceName`, содержащее GUID.
  * Кроме того, GUIDы сетевых карт хранятся в других местах в реестре
* Используя командную строку
  * Для проводных интерфейсов команды `sc start dot3svc` и `netsh lan show interfaces`
  * Для беспроводных интерфейсов команды `sc start wlansvc` и `netsh wlan show interfaces`
  * Кроме того, есть другие способы узнать GUID сетевых адаптеров, используя командную строку или powershell

###### GUID сетевых адаптеров в Red Hat Linux
Необходимо парсить файлы в `/etc/sysconfig/network-scripts/`

Каждый файл содержит строку вида `UUID=<uuid>`

Пример:
```
DEVICE="eth1"
UUID=9c92fad9-6ecb-3e6c-eb4d-8a47c6f50c04
HWADDR=00:23:7D:32:4E:6E
```

###### GUID сетевых адаптеров в Debian Linux
Необходимо использовать команду `nmcli c list`

Пример:
```
NAME                      UUID                                   TYPE
Wired connection 2        d00a6778-80d6-4812-ad54-041de24e47fe   802-3-ethernet
Wired connection 1        4fb95570-1922-495a-b498-846b7a6b0655   802-3-ethernet
miwifi                    f3182ff5-81c2-44c4-9c4b-d3a1f0a550e9   802-11-wireless
```

###### GUID сетевых адаптеров в macOS
В macOS каждое сетевое соединение может иметь несколько UUID – по одному на каждую глобальную конфигурацию сети (которые можно легко переключать).
Текущая конфигурация указана под ключом `CurrentSet` в конфигурационном файле `/Library/Preferences/SystemConfiguration/preferences.plist`
В этой конфигурации, под ключом `Network/Global/IPv4/ServiceOrder` можно найти список всех UUID конфигурации без описаний.
Описания всех UUID сетевых подключений системы находится в том же самом файле под ключом NetworkServices.

###### Дополнительные требования
Программа должна быть написана с использованием общепринятого [**стандарта**](https://ru.wikipedia.org/wiki/Стандарт_оформления_кода). Если для выбранного языка есть один такой стандарт, используйте его, иначе выберите любой для своего языка программирования и укажите в комментариях к Pull Request, какой именно стандарт выбран.

### Дополнительные задания
Три задачи:
* Не использовать системные утилиты командной строки
  * Задача должна быть реализована с использованием нативных API
  * Запрещается запуск процессов, выполняющих настройку сетевого адаптера 
* Выводить ошибки с кодом и подробным текстовым описанием
  * Вывод только кода ошибки либо только описания без кода не будет засчитан
* Добавить графический интерфейс
  * В графическом интерфейсе должна быть возможность выбора сетевого интерфейса и режима (включение/выключение). Кроме того, должен отображаться результат (успешно/код ошибки)

### Репозиторий
[Репозиторий](https://github.com/Andrew414/validationtask) содержит главную страницу [`README.md`](https://github.com/Andrew414/validationtask/blob/master/README.rus.md) и девять персональных каталогов. Необходимо сделать копию (fork) репозитория и вносить все изменения только в свой персональный каталог. Все эти каталоги содержат пустой файл `.gitignore`, куда нужно вписать все временные файлы из лабораторной работы. Остальные файлы должны быть файлами кода (в т.ч. проекта).

### Сдача лабораторной работы
Можно выбрать любой язык программирования, IDE и фреймворки/библиотеки. Если для работы нужны какие-то нестандартные конфигурации или ПО, предоставьте инструкцию по настройке среды.

Сдача через **Pull Request** из вашего клонированного репозитория. Pull Request должен содержать код, файлы проекта и информационные файлы. Результаты сборок и временные файлы должны быть исключены из коммитов.

### Оценка
Максимум за лабораторную работу - **10 баллов**.
- **3 балла** за главную задачу
- **3 балла**, если работа сделана вовремя
- **2 балла** за реализацию лабораторной *без запуска сторонних процессов*
- **1 балл** за реализацию *информативных ошибок*
- **1 балл** за реализацию *графического интерфейса*

### Сроки
На выполнение лабораторной дается 4 недели (12 сентября - 10 октября). Лабораторная работа считается принятой, когда Pull Request переходит в состояние "approved". Дни, в течение которых лабораторная была на проверке, не учитываются.
![ ](https://i.snag.gy/lPOzf7.jpg)

Например, если вы сдаете лаборатрную через три недели после выдачи (3 октября), но комментарии даны только через неделю (10 октября), у вас все еще будет неделя на устранение недочетов, все дни после коммита до получения ревью не считаются.

### Желаю удачи!